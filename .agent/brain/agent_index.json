{
    "agents": {
        "leader": {
            "role": "Team Lead — Orchestrates the entire team with per-phase reporting",
            "when_to_call": "Complex tasks that need multiple agents. User approves each phase before proceeding.",
            "output": "Delegates tasks to specialized agents, reports per phase, manages QA loop (max 3 retries)",
            "skills": [
                "progress-tracker",
                "codebase-navigator"
            ],
            "orchestration": {
                "phases": [
                    "Planning",
                    "Architecture",
                    "Design",
                    "Development",
                    "QA & Bug Fix",
                    "Launch"
                ],
                "qa_loop": {
                    "max_retries": 3,
                    "on_failure": "Call meta-thinker + planner to rethink approach",
                    "on_max_retries": "Stop and report to Manager with detailed failure analysis"
                }
            }
        },
        "quickstart": {
            "role": "Autopilot — Fully automated project build from idea to production",
            "when_to_call": "Quick MVPs, prototypes, or when user wants zero-approval fast build",
            "output": "Complete project with QA, security audit, docs. Final report with all results.",
            "skills": [],
            "orchestration": {
                "phases": [
                    "Auto-Plan",
                    "Architecture",
                    "Design",
                    "Development",
                    "QA & Auto-Fix",
                    "Polish"
                ],
                "qa_loop": {
                    "max_retries": 5,
                    "on_failure": "Call meta-thinker + planner to rethink approach",
                    "on_max_retries": "Log unresolved bug, continue with remaining work"
                }
            }
        },
        "planner": {
            "role": "Analyzes requirements, writes PRD, breaks down tasks",
            "when_to_call": "New features, project kickoff, requirement analysis",
            "output": "PRD.md, task breakdown, user stories, estimation",
            "skills": [
                "task-estimator",
                "user-story-generator",
                "project-management-assistant",
                "project-scaffolder"
            ]
        },
        "architect": {
            "role": "Systems Design — Database, API, Architecture",
            "when_to_call": "Database schema, API design, system diagrams, tech decisions",
            "output": "schema.sql, api_spec.yaml, architecture diagrams",
            "skills": [
                "db-designer",
                "api-designer",
                "system-diagrammer",
                "system-strategist",
                "strategic-planning-advisor"
            ]
        },
        "designer": {
            "role": "UI/UX Design System and Assets",
            "when_to_call": "UI components, color palette, typography, wireframes, responsive design",
            "output": "Design system, component specs, color palette, wireframes",
            "skills": [
                "ui-ux-pro-max",
                "color-palette-generator",
                "product-designer"
            ]
        },
        "frontend-dev": {
            "role": "Frontend Developer — Component, Layout, State Management",
            "when_to_call": "React/Vue/Tailwind components, pages, state logic, responsive layout",
            "output": "Components, pages, hooks, styles, state management code",
            "skills": []
        },
        "backend-dev": {
            "role": "Backend Developer — API, DB Queries, Business Logic",
            "when_to_call": "API endpoints, database queries, authentication, server logic",
            "output": "API routes, controllers, models, middleware, services",
            "skills": [
                "test-generator"
            ]
        },
        "mobile-dev": {
            "role": "Mobile Developer — iOS/Android (React Native/Expo)",
            "when_to_call": "Mobile screens, native features, navigation, app store deployment",
            "output": "React Native/Expo screens, navigation config, native module setup",
            "skills": [
                "mobile-wizard"
            ]
        },
        "devops": {
            "role": "DevOps — Docker, CI/CD, Cloud Deployment",
            "when_to_call": "Docker setup, CI/CD pipelines, deployment, cloud config",
            "output": "Dockerfile, docker-compose.yml, GitHub Actions, deploy scripts",
            "skills": [
                "docker-wizard",
                "ci-cd-setup",
                "reliability-engineer"
            ]
        },
        "qa-engineer": {
            "role": "QA — Test Cases, Automation, Performance, Bug Reporting",
            "when_to_call": "Test writing, test automation, performance testing, bug triage",
            "output": "Test suites, test reports, bug reports",
            "skills": [
                "test-generator"
            ]
        },
        "security-engineer": {
            "role": "Security — Audit, Pen-Test, Vulnerability Scanning",
            "when_to_call": "Security audit, vulnerability scan, OWASP check, secret detection",
            "output": "Security report, vulnerability list, fix recommendations",
            "skills": [
                "security-scanner"
            ]
        },
        "tech-writer": {
            "role": "Documentation & API Refs",
            "when_to_call": "README, API docs, user guides, changelog",
            "output": "README.md, API documentation, user guides",
            "skills": [
                "doc-generator",
                "readme-generator"
            ]
        },
        "seo-specialist": {
            "role": "SEO — Search Engine Optimization",
            "when_to_call": "Meta tags, Schema.org, sitemap, performance, Core Web Vitals",
            "output": "SEO audit report, meta tag fixes, schema markup",
            "skills": [
                "seo-analyzer"
            ]
        },
        "meta-thinker": {
            "role": "Creative Advisor — Ideas, Brainstorming, Vision",
            "when_to_call": "Brainstorming, product vision, monetization, competitive analysis",
            "output": "Idea reports, strategy docs, competitor analysis",
            "skills": [
                "meta-thinker",
                "competitor-analyzer",
                "market-trend-analyst"
            ]
        },
        "knowledge-guide": {
            "role": "Code Explainer, Note Taker, Handoff Specialist",
            "when_to_call": "Explain codebase to new team members, capture notes, handoff docs",
            "output": "Code explanations, handoff documents, context summaries",
            "skills": [
                "knowledge-guide",
                "brain-manager",
                "journal-manager"
            ]
        },
        "code-reviewer": {
            "role": "Code Reviewer — Automated code quality review",
            "when_to_call": "Code quality check, naming review, security scan, performance audit",
            "output": "Review report with issues (critical/warning/info) and quality score (A-F)",
            "skills": [
                "code-reviewer"
            ]
        },
        "release-manager": {
            "role": "Release Manager — Changelog, versioning, release notes",
            "when_to_call": "Version bump, changelog generation, release preparation, tagging",
            "output": "CHANGELOG.md, version bump, release notes, git tags",
            "skills": [
                "release-manager"
            ]
        },
        "researcher": {
            "role": "Researcher — Market analysis, web search, trend discovery",
            "when_to_call": "Research competitors, validate ideas, discover trends, find best practices, gather information",
            "output": "research_report.md, market-analysis.md, competitor data, web search results",
            "skills": [
                "market-trend-analyst",
                "competitor-analyzer"
            ],
            "capabilities": {
                "web_search": "DuckDuckGo API (zero dependencies, stdlib only)",
                "modes": [
                    "--compact (token-efficient)",
                    "--json",
                    "--output (markdown)",
                    "--instant-only"
                ]
            }
        }
    },
    "infrastructure": {
        "context-router": "Universal data query router — use before reading raw data files. Saves tokens by returning only matching entries.",
        "template-marketplace": "Pre-built project templates (SaaS, E-commerce, Blog, API, Landing, Dashboard, Mobile). Used by quickstart and leader."
    },
    "handoff_template": {
        "format": "## Handoff to {agent}\nContext: {one_line_summary}\nTask: {specific_task}\nFiles: {relevant_files_from_codebase_index}\nConstraints: {tech_stack_and_rules}\nExpected Output: {what_to_produce}"
    }
}